import requests
import os
import logger


class account:
    def __init__(self, accountName, accountType="github", rootDir="~/.gitega"):
        self.logger = logger.logger()
        self.accountName = accountName
        self.accountType = accountType
        self.rootDir = rootDir
        self.logger.log("moin")

    def getAccDir(self):
        self.accDir = os.path.join(
            str(os.path.expanduser(self.rootDir)), self.accountName + "-" + self.accountType)
        if not os.path.exists(self.accDir):
            os.makedirs(self.accDir)
        return self.accDir

    def getToken(self):
        if os.path.exists(self.getAccDir()):
            with open(self.getAccDir(), "r") as file:
                return file.readLine()
        else:
            return False

    def setToken(self, token, override=False):
        if not self.getToken() or override:
            with open(self.getAccDir(), "w") as file:
                file.write()
